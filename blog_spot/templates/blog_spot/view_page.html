{% extends 'blog_spot/base.html' %}
{% block title %}View Blogs{% endblock %}

{% block content %}
<div class="container mt-5 animate__animated animate__fadeIn">

    <!-- Welcome Heading -->
    <h2 class="mb-4 text-center text-dark fw-bold">üëã Welcome {{ Username }}!</h2>

    <!-- See My Posts (if blogger) -->
    {% if status == 'b' %}
        <div class="text-end mb-4">
            <a href="{% url 'user_pg' usr=Username %}" class="btn btn-outline-success rounded-3 shadow-sm">
                ‚úçÔ∏è See My Posts
            </a>
        </div>
    {% endif %}

    <!-- Loop Over Blogs -->
    {% for blog in blogs %}
        <div class="card shadow-sm mb-4 border-0 rounded-4">
            <div class="card-header bg-light d-flex justify-content-between align-items-center">
                <strong class="text-primary">@{{ blog.usr_name }}</strong>
            </div>
            <div class="card-body bg-white">
                <p class="card-text" style="white-space: pre-line;">{{ blog.pst }}</p>
            </div>
        </div>
    {% empty %}
        <div class="alert alert-info text-center rounded-3 shadow-sm">
            üí§ No blog posts available.
        </div>
    {% endfor %}

    <!-- CTA for Reader to Become Blogger -->
    {% if status == 'r' %}
        <div class="text-end mt-4">
            <a href="{% url 'blogger_pg' usr=Username %}" class="btn btn-warning rounded-3 shadow-sm">
                ‚úçÔ∏è Become a Blogger
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
